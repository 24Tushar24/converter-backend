# Enhanced Task Management Configuration
# Environment variables for configuring the PSD Converter Backend

# Task Processing Configuration
MAX_WORKERS=4                    # Number of worker threads/processes
CONCURRENCY_MODE=threading       # threading, multiprocessing, async, hybrid
TASK_TIMEOUT=300                 # Task timeout in seconds (5 minutes)
QUEUE_SIZE=100                   # Maximum number of queued tasks
BATCH_SIZE=5                     # Default batch processing size
ENABLE_MONITORING=true           # Enable task performance monitoring

# File Processing Configuration
MAX_UPLOAD_SIZE_MB=500          # Maximum file size in MB
CLEANUP_HOURS=24                # Hours after which to cleanup old jobs

# Performance Tuning
# For CPU-intensive workloads (large PSD files):
# CONCURRENCY_MODE=multiprocessing
# MAX_WORKERS=2-4 (depending on CPU cores)

# For I/O-intensive workloads (many small files):
# CONCURRENCY_MODE=threading
# MAX_WORKERS=8-16

# For mixed workloads:
# CONCURRENCY_MODE=hybrid
# MAX_WORKERS=6

# Memory Management
# Large file processing may require additional memory
# Consider reducing MAX_WORKERS for very large files (>100MB)

# Production Recommendations:
# - Use multiprocessing for files >50MB
# - Use threading for files <50MB
# - Enable monitoring in production
# - Set appropriate timeouts based on expected file sizes
# - Configure cleanup to run regularly

# Cloudinary Configuration (Required for product uploads)
CLOUDINARY_CLOUD_NAME=your_cloud_name_here
CLOUDINARY_API_KEY=your_api_key_here
CLOUDINARY_API_SECRET=your_api_secret_here

# MongoDB Configuration (Required for product metadata)
MONGODB_CONNECTION_STRING=mongodb://localhost:27017/psd_converter
MONGODB_DATABASE=psd_converter
MONGODB_COLLECTION=product_images
